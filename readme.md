## О проекте

Пример реализации клиент-серверного взаимодействия по REST в соответствии с шаблоном "publisher-subscriber". Серверная часть принимает http-запросы методом POST, содержащие json-сообщение следующей структуры:

* `ID` - идентификатор сообщения; 
* `Msisdn` - уникальный номер абонента;
* `Action` - тип сообщения:`PURCHASE` или `SUBSCRIPTION`;
* `Timestamp` - UNIX timestamp.

Пример сообщения:

    {
        "id": 1,
        "msisdn": 12345,
        "action": "PURCHASE",
        "timestamp": 1589464122
    }

Принятое сообщение преобразуется в сущностный объект, сохраняется в базу данных, и возвращается обратно в теле http-ответа.
    
Клиентская часть проекта: [https://github.com/ClearClass/publisher-pr](https://github.com/ClearClass/publisher-pr)

### Описание классов

Приложение реализовано на основе Spring Boot. Класс контроллера (`MainController`) образует ресурс с локальным адресом (URI) `/message`, и принимает post-запрос с телом json-сообщения. Метод контроллера преобразует json-сообщение в сущностный объект `Message`, и сохраняет его в базу данных через dao-объект, после чего принятое сообщение возвращается клиенту.

Интерфейс dao содержит единственный метод `save()`, реализованный в классе `MessageDAOImpl` на основе `JdbcTemplate`. В зависимости от поля `action`, объект `Message` сохраняется либо в таблицу `purchase`, либо в таблицу `subscription`.

Пакет `entity` содержит объявление сущностного класса `Message` и перечисления `MessageType`, представляющего тип принятого сообщения.
